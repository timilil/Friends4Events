<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Profile<img id="logo" width="40px" height="30px" src="../assets/imgs/Screenshot.png"></ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form class="center" (submit)="uploadProfilePic()">
    <ion-avatar>
      <label for="file-input">
        <img src="http://media.mw.metropolia.fi/wbma/uploads/{{profilePicName}}" *ngIf="profilePicName != null">
        <img src="../assets/imgs/profilepicture.png" *ngIf="profilePicName == null">
      </label>
      <input id="file-input" type="file" name="file" (change)="changeProfilePicture($event)" style="display: none"/>
    </ion-avatar>
    <div class="information">
      <h2>{{userName}}</h2>
      <h3>{{userEmail}}</h3>
      <h3>{{fullName}}</h3>
    </div>
  </form>
  <div class="information2">
    <h2>{{userName}}</h2>
    <h3>{{userEmail}}</h3>
    <h3>{{fullName}}</h3>
  </div>
  <h2>Add events:</h2>
  <form class="center" (submit)="startUpload()">
    <input type="file" name="file" (change)="setFile($event)">
    <br>
    <ion-item>
      <ion-input type="text" [(ngModel)]="media.title" placeholder="Title" name="title"></ion-input>
    </ion-item>
    <br>
    <ion-textarea [(ngModel)]="media.description" placeholder="Enter a description" name="description"></ion-textarea>
    <br>
    <button class="uploadButton" ion-button block type="submit">Upload</button>
  </form>
  <br>
  <h2>My events</h2>
  <ion-list *ngFor="let event of userEvents" (click)="itemTapped($event, item, event.file_id, event.title, event.description, event.user_id, event.filename, event.time_added)">

    <ion-card class="flexcard">
      <img class="image" src="http://media.mw.metropolia.fi/wbma/uploads/{{event.filename.split('.')[0]+'-tn320.png'}}"/>
      <ion-card-content class="cardcontent">
        <ion-card-title>
          {{event.title}}
          <!--{{files.file_id | uuseri}}-->
        </ion-card-title>
        <p class="ellipsis">
          {{event.description}}The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.
        </p>
      </ion-card-content>
    </ion-card>
  </ion-list>

  <h2>My signed up events</h2>
  <ion-list *ngFor="let event of mySigned" (click)="itemTapped($event, item, event.file_id, event.title, event.description, event.user_id, event.filename, event.time_added)">

    <ion-card class="flexcard">
      <img class="image" src="http://media.mw.metropolia.fi/wbma/uploads/{{event.filename.split('.')[0]+'-tn320.png'}}"/>
      <ion-card-content class="cardcontent">
        <ion-card-title>
          {{event.title}}
          <!--{{files.file_id | uuseri}}-->
        </ion-card-title>
        <p class="ellipsis">
          {{event.description}}The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.The most popular industrial group ever, and largely
          responsible for bringing the music to a mass audience.
        </p>
      </ion-card-content>
    </ion-card>
  </ion-list>
<!--
  <form (submit)="uploadProfilePic()">
    <input type="file" name="file" (change)="setFile($event)">
    <button ion-button clear type="submit">Upload profile picture</button>
  </form>
-->
</ion-content>
